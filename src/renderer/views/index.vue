<template>
    <div class="indexPage">
        <header class="header">
            <div class="headerItem logo" style="-webkit-app-region: drag;">
               <!-- <svg t="1526518557877" class="icon" style="width:25px; height:25px;fill: currentColor;overflow: hidden;" viewBox="0 0 1097 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2086"><path d="M596.557576 213.333333C712.145455-27.927273 972.8 23.272727 972.8 23.272727 805.236364 342.884848 597.333333 213.333333 596.557576 213.333333z" fill="#FFCC63" p-id="2087"></path><path d="M168.339394 646.206061a399.515152 356.072727 0 1 0 799.030303 0 399.515152 356.072727 0 1 0-799.030303 0Z" fill="#CA3839" p-id="2088"></path><path d="M286.254545 659.393939a354.521212 297.115152 90 1 0 594.230303 0 354.521212 297.115152 90 1 0-594.230303 0Z" fill="#EE4A49" p-id="2089"></path><path d="M565.527273 287.030303c-224.969697 0-407.272727 162.909091-407.272728 363.054545 0 200.921212 182.30303 363.054545 407.272728 363.054546s407.272727-162.909091 407.272727-363.054546c0-200.921212-182.30303-363.054545-407.272727-363.054545z m0 708.266667c-214.109091 0-387.10303-154.375758-387.103031-345.212122s172.993939-345.212121 387.103031-345.212121c213.333333 0 387.10303 154.375758 387.10303 345.212121-0.775758 190.836364-173.769697 345.212121-387.10303 345.212122z" fill="" p-id="2090"></path><path d="M605.090909 294.012121l-38.787879 0.775758c20.945455-116.363636-36.460606-210.230303-36.460606-211.006061L561.648485 54.30303c2.327273 4.654545 69.042424 96.193939 43.442424 239.709091z" fill="" p-id="2091"></path><path d="M753.260606 238.933333c-93.090909 23.272727-162.133333-21.721212-165.236364-23.272727-3.878788-2.327273-5.430303-7.757576-3.10303-12.412121C705.939394-36.460606 968.921212 17.842424 972.024242 17.842424c3.10303 0.775758 5.430303 2.327273 6.981819 5.430303 1.551515 3.10303 0.775758 6.206061 0 8.533334-34.133333 62.060606-71.369697 110.933333-112.484849 145.842424-35.684848 31.030303-73.69697 51.2-113.260606 61.284848z m-147.393939-34.909091c19.393939 10.084848 74.472727 33.357576 142.739394 16.29091 76.8-18.618182 145.842424-81.454545 205.575757-185.406061-51.975758-7.757576-245.915152-22.49697-348.315151 169.115151z" fill="" p-id="2092"></path><path d="M752.484848 242.812121c-86.884848 23.272727-155.151515-12.412121-167.563636-20.169697-3.10303-1.551515-4.654545-5.430303-4.654545-9.309091s3.10303-6.981818 6.20606-7.757575c180.751515-67.490909 301.769697-134.206061 370.812121-177.648485 3.878788-2.327273 8.533333-1.551515 11.636364 1.551515 3.10303 3.10303 3.878788 7.757576 1.551515 11.636364-34.133333 60.509091-70.593939 108.606061-110.933333 143.515151-33.357576 27.927273-69.042424 48.09697-107.054546 58.181818z m-138.860606-27.927273c26.375758 10.860606 75.248485 24.824242 134.206061 8.533334 69.042424-18.618182 131.878788-72.921212 186.957576-160.581818-69.818182 41.890909-175.321212 96.969697-321.163637 152.048484zM595.006061 923.927273c0 8.533333-6.981818 15.515152-15.515152 15.515151s-15.515152-6.981818-15.515151-15.515151 6.981818-15.515152 15.515151-15.515152c9.309091 0.775758 15.515152 7.757576 15.515152 15.515152zM674.909091 939.442424c0 8.533333-6.981818 15.515152-15.515152 15.515152s-15.515152-6.981818-15.515151-15.515152 6.981818-15.515152 15.515151-15.515151c9.309091 0 15.515152 6.981818 15.515152 15.515151zM781.187879 909.187879c0 8.533333-6.981818 15.515152-15.515152 15.515151s-15.515152-6.981818-15.515151-15.515151 6.981818-15.515152 15.515151-15.515152c9.309091 0 15.515152 6.981818 15.515152 15.515152zM705.939394 868.072727c0 8.533333-6.981818 15.515152-15.515152 15.515152s-15.515152-6.981818-15.515151-15.515152 6.981818-15.515152 15.515151-15.515151 15.515152 6.981818 15.515152 15.515151zM325.818182 852.557576c0 8.533333-6.981818 15.515152-15.515152 15.515151s-15.515152-6.981818-15.515151-15.515151 6.981818-15.515152 15.515151-15.515152 15.515152 6.981818 15.515152 15.515152zM340.557576 436.751515c0 8.533333-6.981818 15.515152-15.515152 15.515152s-15.515152-6.981818-15.515151-15.515152 6.981818-15.515152 15.515151-15.515151c8.533333 0.775758 15.515152 6.981818 15.515152 15.515151zM404.945455 394.860606c0 8.533333-6.981818 15.515152-15.515152 15.515152s-15.515152-6.981818-15.515151-15.515152 6.981818-15.515152 15.515151-15.515151 15.515152 6.981818 15.515152 15.515151zM474.763636 363.830303c0 8.533333-6.981818 15.515152-15.515151 15.515152s-15.515152-6.981818-15.515152-15.515152 6.981818-15.515152 15.515152-15.515151c8.533333 0.775758 15.515152 7.757576 15.515151 15.515151zM459.248485 436.751515c0 8.533333-6.981818 15.515152-15.515152 15.515152s-15.515152-6.981818-15.515151-15.515152 6.981818-15.515152 15.515151-15.515151c8.533333 0.775758 15.515152 6.981818 15.515152 15.515151zM545.357576 394.860606c0 8.533333-6.981818 15.515152-15.515152 15.515152s-15.515152-6.981818-15.515151-15.515152 6.981818-15.515152 15.515151-15.515151 15.515152 6.981818 15.515152 15.515151zM170.666667 188.509091h90.763636v17.842424H170.666667z" fill="" p-id="2093"></path><path d="M207.127273 151.272727H224.969697v90.763637h-17.842424z" fill="" p-id="2094"></path><path d="M206.351515 187.733333h19.39394v19.39394h-19.39394z" fill="#FFFFFF" p-id="2095"></path><path d="M698.996018 706.447274a77.574982 51.975238 87.722 1 0 103.868327-4.131837 77.574982 51.975238 87.722 1 0-103.868327 4.131837Z" fill="#F15F62" p-id="2096"></path></svg>-->
                <span class="logo-text">Yami</span>
           </div>
            <!--<div class="headerItem" v-for="item in menus">
                <div class="menuItem">
                    <span class="icon"></span>
                    <span>{{item.name}}</span>
                </div>
            </div>-->
            <div class="close" @click="closeApp()">
                <Icon type="close-round"></Icon>
            </div>
            <div class="max">
                <Icon type="qr-scanner"></Icon>
            </div>
             <div class="min" @click="hideApp()">
                <Icon type="minus-round"></Icon>
            </div>
        </header>
        <div class="content">
             <router-view></router-view>
        </div>
        <footer>
            <p class="version">
                当前版本<em>v1.0.0.0</em>
            </p>
        </footer>
    </div>    
</template>

<script>
const {ipcRenderer} = require("electron");
export default {
   data(){
       return {
          menus:[{
              name:"主页",
              path:"/mainPage"
          }]
       }
   },
   methods:{
       /**
        *关闭app
        */
       closeApp(){
          this.sendMsg({type:'close',msg:''})
       },
       /*
        *隐藏App
       */
       hideApp(){
           this.sendMsg({type:'hide',msg:''})
       },
       /**
        *向主进程发送消息
        */
        sendMsg(msg){
            let option = {
                type:msg.type,
                msg:msg.msg||"",
            }
            ipcRenderer.send("receiveMsg",option)
        },
        reateIcon(){
           this.$router.push("/createIcon");
        }
   },
   mounted(){
       ipcRenderer.on("fileSystem",(event,message)=>{
           console.log(event,message)
       });
       this.reateIcon();
   }

}
</script>
    
<style scoped lang="less">
   .indexPage{
       position: relative;
       height: 100%;
       width: 100%;
       background: #168e92;
       canvas{
           position: relative;
           top: 50%;
           left: 50%;
           margin-top: -200px;
           margin-left: -300px;
       }
       .header{
          height: 30px;
          line-height: 30px;
          background: #168e92;    
          .headerItem{
              height: 30px;
              min-width: 30px;
              line-height: 30px;
              display: inline-block;
              &.logo{
                   cursor:pointer;
                   left: 0px;
                   top:0px;
                   .icon{
                       top: 0px
                   }
                  .logo-text{
                      height: 30px;
                      margin-left:5px;
                      font-style:italic;
                      letter-spacing:1px;
                      line-height: 30px;
                      position: relative;
                      float: right;
                      top: 0px;
                     color: #fff;
                }
              }
          }
       }
       .menuItem{
           height: 100%;
           width:50px;
           text-align: center;
           &:hover{
               background: #61dddd;
               color:#fff
           }
       }
       .close,.max,.min{
           float:right;
           right: 0px;
           height: 30px;
           width: 30px;
           line-height: 30px;
           text-align: center;
           font-size: 16px;
           &.close:hover{
               background: #d40f0f;
               cursor: pointer;
           }
           &.min:hover{
               background: #72eff3;
               cursor: pointer;
           }
           &.max:hover{
               background: #72eff3;
               cursor:not-allowed;
           }
           &.max{
              // background: #f1eded;
           }
       }
       .content{
           
       }
       footer{
           position: absolute;
           width: 100%;
           bottom: 0px;
           height: 30px;
           text-align: center;
           line-height: 30px;
           em{
               margin-left:2px;
               color:rgb(226, 224, 224);
           }
       }
   }
</style>
